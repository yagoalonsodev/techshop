{% extends "base.html" %}

{% block title %}{% if product %}{{ _('btn_edit') }}{% else %}{{ _('btn_create') }}{% endif %} {{ _('product_col') }} - Admin - TechShop{% endblock %}

{% block content %}
<div class="admin-container">
    <h2>{% if product %}{{ _('btn_edit') }} {{ _('product_col') }}{% else %}{{ _('btn_create') }} {{ _('product_col') }}{% endif %}</h2>
    
    <form method="POST" action="{% if product %}{{ url_for('admin.edit_product', product_id=product.id) }}{% else %}{{ url_for('admin.admin_create_product') }}{% endif %}" class="admin-form">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <div class="form-group">
            <label for="name">{{ _('label_product_name') }}</label>
            <input type="text" 
                   id="name" 
                   name="name" 
                   value="{% if product %}{{ product.name }}{% endif %}"
                   maxlength="100"
                   required
                   class="form-input">
            <small>{{ _('validation_max_length')|replace('{max}', '100') }}</small>
        </div>

        <div class="form-group">
            <label for="price">{{ _('label_price') }} (â‚¬):</label>
            <input type="number" 
                   id="price" 
                   name="price" 
                   value="{% if product %}{{ product.price }}{% else %}0.00{% endif %}"
                   min="0"
                   step="0.01"
                   required
                   class="form-input">
            <small>{{ _('help_price') }}</small>
        </div>

        <div class="form-group">
            <label for="stock">{{ _('label_stock') }}</label>
            <input type="number" 
                   id="stock" 
                   name="stock" 
                   value="{% if product %}{{ product.stock }}{% else %}0{% endif %}"
                   min="0"
                   required
                   class="form-input">
            <small>{{ _('help_stock') }}</small>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-success btn-large">
                {% if product %}{{ _('btn_update') }}{% else %}{{ _('create_product') }}{% endif %}
            </button>
            <a href="{{ url_for('admin.admin_products') }}" class="btn btn-secondary">
                {{ _('btn_cancel') }}
            </a>
        </div>
    </form>
</div>
{% endblock %}

